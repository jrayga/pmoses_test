"use strict";var app=angular.module("onload",["ngRoute","isteven-multi-select","ngDialog","angularFileUpload","angularCSS"]);app.config(["$routeProvider",function(e){var t="Welcome to Project Moses | Stay Safe, Philippines!",s="COVID-19 Self Assessment and Triage Tool | Project Moses",o="Hospital Directory | Project Moses",i="News Media Aggregator | Project Moses",r="HOSPITAL NAME | Project Moses",a="Please Log In to the Hospital Portal | Project Moses",n="Apply for Access to the Hospital Portal | Project Moses",l="Hospital Portal | Project Moses",c="Update Hospital Information | Project Moses",m="COVID-19 Apps | Project Moses",u="Frequently Asked Questions | Project Moses",p="DOH COVID-19 Case Tracker | Project Moses",d="Johns Hopkins Interactive Map | Project Moses",g="About the Project | Project Moses",f="Official Statements Archive | Project Moses",h="Emerging Research | Project Moses",y="Government Announcements | Project Moses",S="Useful Links | Project Moses",v={clinics:"Citizens Patrol - Clinics | Project Moses",grocery:"Citizens Patrol - Grocery Stores | Project Moses",pharmacies:"Citizens Patrol - Pharmacies | Project Moses",roads:"Citizens Patrol - Roads | Project Moses",submitReport:"Submit Citizen's Report | Project Moses"};e.when("/",{title:t,templateUrl:"views/dashboard/main-page.html",css:[{href:"ASSETS/css/home.min.css",method:"append",persist:!1,preload:!0,bustCache:!0},{href:"ASSETS/css/responsive.min.css",method:"append",persist:!1,preload:!0,bustCache:!0}]}).when("/self-triage",{title:s,controller:"SelfTriage",templateUrl:"views/self-triage/self-triage.html",css:[{href:"ASSETS/css/triage.min.css",method:"append",persist:!1,preload:!0,bustCache:!0},{href:"ASSETS/css/responsive.min.css",method:"append",persist:!1,preload:!0,bustCache:!0}]}).when("/hospital-directory/:region/:city/:hospitalName",{title:o,controller:"HospitalDirectory",templateUrl:"views/hospital-directory/hospital-directory.html",css:[{href:"ASSETS/css/hospital-directory.min.css",method:"append",persist:!1,preload:!0,bustCache:!0},{href:"ASSETS/css/responsive.min.css",method:"append",persist:!1,preload:!0,bustCache:!0}]}).when("/news-media",{title:i,controller:"NewsMedia",templateUrl:"views/dashboard/news-media.html",css:{href:"ASSETS/css/news-media.css",method:"append",persist:!1,preload:!0,bustCache:!0}}).when("/hospital-details/:hospital_id",{title:r,controller:"HospitalDetails",templateUrl:"views/hospital-directory/hospital-details.html",css:[{href:"ASSETS/css/hospital-directory.min.css",method:"append",persist:!1,preload:!0,bustCache:!0},{href:"ASSETS/css/responsive.min.css",method:"append",persist:!1,preload:!0,bustCache:!0}]}).when("/hospital-login",{title:a,controller:"HospitalPortal",templateUrl:"views/hospital-portal/hospital-login.html",css:[{href:"ASSETS/css/hospital-portal.min.css",method:"append",persist:!1,preload:!0,bustCache:!0},{href:"ASSETS/css/responsive.min.css",method:"append",persist:!1,preload:!0,bustCache:!0}]}).when("/request-access",{title:n,controller:"HospitalPortal",templateUrl:"views/hospital-portal/request-access.html",css:[{href:"ASSETS/css/hospital-portal.min.css",method:"append",persist:!1,preload:!0,bustCache:!0},{href:"ASSETS/css/responsive.min.css",method:"append",persist:!1,preload:!0,bustCache:!0}]}).when("/hospital-portal",{title:l,controller:"HospitalPortal",templateUrl:"views/hospital-portal/hospital-dashboard.html",requireAuth:!0,css:[{href:"ASSETS/css/hospital-portal.min.css",method:"append",persist:!1,preload:!0,bustCache:!0},{href:"ASSETS/css/responsive.min.css",method:"append",persist:!1,preload:!0,bustCache:!0}]}).when("/update-hospital-info",{title:c,controller:"HospitalPortal",templateUrl:"views/hospital-portal/update-hospital-info.html",requireAuth:!0,css:[{href:"ASSETS/css/hospital-portal.min.css",method:"append",persist:!1,preload:!0,bustCache:!0},{href:"ASSETS/css/responsive.min.css",method:"append",persist:!1,preload:!0,bustCache:!0}]}).when("/admin",{controller:"Admin",templateUrl:"views/admin/dashboard.html",requireAdmin:!0,css:[{href:"ASSETS/css/admin-page.css",method:"append",persist:!1,preload:!0,bustCache:!0},{href:"ASSETS/css/admin-table.css",method:"append",persist:!1,preload:!0,bustCache:!0}]}).when("/admin/login",{controller:"Admin",templateUrl:"views/admin/login.html",css:{href:"ASSETS/css/admin-page.css",method:"append",persist:!1,preload:!0,bustCache:!0}}).when("/resources/apps-tracker",{title:m,templateUrl:"views/resources/apps-tracker.html"}).when("/resources/faqs",{title:u,controller:"Resources",templateUrl:"views/resources/faqs.html"}).when("/doh-tracker",{title:p,controller:"Trackers",templateUrl:"views/trackers/doh-tracker.html"}).when("/jhu-tracker",{title:d,templateUrl:"views/trackers/jhu-tracker.html"}).when("/about",{title:g,templateUrl:"views/dashboard/about-project-moses.html"}).when("/resources/official-statements",{title:f,templateUrl:"views/resources/statements.html"}).when("/government-announcements",{title:y,templateUrl:"views/dashboard/government-announcements.html"}).when("/resources/useful-links",{title:S,templateUrl:"views/resources/useful-links.html"}).when("/resources/emerging-research",{title:h,templateUrl:"views/resources/emerging-research.html"}).when("/citizen-patrol/clinics",{title:v.clinics,controller:"Clinics",templateUrl:"views/citizen-patrol/clinics.html",css:[{href:"ASSETS/css/citizens-patrol.min.css",method:"append",persist:!1,preload:!0,bustCache:!0},{href:"ASSETS/css/responsive.min.css",method:"append",persist:!1,preload:!0,bustCache:!0}]}).when("/citizen-patrol/grocery",{title:v.grocery,controller:"Grocery",templateUrl:"views/citizen-patrol/grocery.html",css:[{href:"ASSETS/css/citizens-patrol.min.css",method:"append",persist:!1,preload:!0,bustCache:!0},{href:"ASSETS/css/responsive.min.css",method:"append",persist:!1,preload:!0,bustCache:!0}]}).when("/citizen-patrol/pharmacies",{title:v.pharmacies,controller:"Pharmacies",templateUrl:"views/citizen-patrol/pharmacies.html",css:[{href:"ASSETS/css/citizens-patrol.min.css",method:"append",persist:!1,preload:!0,bustCache:!0},{href:"ASSETS/css/responsive.min.css",method:"append",persist:!1,preload:!0,bustCache:!0}]}).when("/citizen-patrol/roads",{title:v.roads,controller:"Roads",templateUrl:"views/citizen-patrol/roads.html",css:[{href:"ASSETS/css/citizens-patrol.min.css",method:"append",persist:!1,preload:!0,bustCache:!0},{href:"ASSETS/css/responsive.min.css",method:"append",persist:!1,preload:!0,bustCache:!0}]}).when("/citizen-patrol/submit-report",{title:v.submitReport,controller:"SubmitReport",templateUrl:"views/citizen-patrol/submit-report.html",css:[{href:"ASSETS/css/citizens-patrol.min.css",method:"append",persist:!1,preload:!0,bustCache:!0},{href:"ASSETS/css/responsive.min.css",method:"append",persist:!1,preload:!0,bustCache:!0}]}).otherwise({redirectTo:"/"})}]),app.controller("Admin",["$scope","$window","SessionFactory","$location","AdminFactory","ngDialog","FileUploader","PagerService",function(e,t,s,o,i,r,a,n){function l(){null!==e.adminKey&&((e.sections.submissions||e.sections.hospitals)&&c(),e.sections.apps,e.sections.annoucements,e.sections.researches)}function c(){var t={adminKey:e.adminKey};if(e.isLoading=!0,e.sections.submissions)i.getHospitals(t).then(function(t){e.requestAccess=t.data.data,e.isLoading=!1}).catch(function(t){e.isLoading=!1});else if(e.sections.hospitals){t.approved=!0,i.getHospitals(t).then(function(t){e.hospitals=t.data.data,e.isLoading=!1}).catch(function(t){e.isLoading=!1})}}e.adminKey=s.adminAuthKey,e.isAdmin=!0,e.currentURL=o.url(),e.isLoading=!1,e.loginForm={username:"",password:""},e.hospitals=[],e.apps=[],e.researches=[],e.annoucements=[],e.submissions=[],e.requestAccess=[],e.adminPages=[{section:"apps",name:"Add App(s) (Covid19 Apps)",active:!1},{section:"researches",name:"Add Research(s) (Emerging Research)",active:!1},{section:"annoucements",name:"Add Government Announcement(s) (Government Announcements)",active:!1},{section:"submissions",name:"Hospital Request Access Submissions",active:!0},{section:"hospitals",name:"Approved Users",active:!1}],e.sections={apps:!1,researches:!1,annoucements:!1,submissions:!0,hospitals:!1},e.form={hospital_name:"",person_name:"",department:"",profession:"",position:"",username:"",password:"",email:"",contact_num:""},e.uploadingImage=!1,e.appImageUpload={},e.appImageUpload.queue={},l(),e.loginAdmin=function(){for(var o in e.loginForm)if(""===e.loginForm[o])return Swal.fire({icon:"warning",title:"Please fill up all the forms!",text:"Check the forms and try again"}),!1;e.loginForm.hospital=!1,e.isLoading=!0,s.login(e.loginForm).then(function(s){var o=s.data.access_token;localStorage.clear(),localStorage.setItem("adminAuthKey",o),t.location="./#/admin",t.location.reload(),e.isLoading=!1}).catch(function(t){Swal.fire({icon:"error",title:"An error occured!",text:t.data}),e.isLoading=!1})},e.changeStatus=function(t,s){Swal.fire({title:"Are you sure?",text:`You want to ${s} this access request?`,icon:"warning",showCancelButton:!0}).then(o=>{if(o.value){var r={info:{public_id:t},status:s,adminKey:e.adminKey};i.updateHospitalRequestStatus(r).then(function(){Swal.fire("Approve!",`The hospital access request was ${s}`,"success"),c()}).catch(function(e){Swal.fire({icon:"error",title:"An error occured!",text:e.data})})}})},e.deleteHospital=function(t){Swal.fire({title:"Are you sure?",text:"You want to delete this hospital info?",icon:"warning",showCancelButton:!0}).then(s=>{if(s.value){var o={info:{public_id:t},adminKey:e.adminKey};i.deleteHospitalInfo(o).then(function(){c(),Swal.fire("Deleted!","Hospital info and account has successfully deleted","success")}).catch(function(e){Swal.fire({icon:"error",title:"An error occured!",text:e.data})})}})},e.switchTable=function(t){for(var s in e.sections)e.sections[s]=!1;for(var o in e.adminPages)e.adminPages[o].active=!1;e.sections[t.section]=!0,t.active=!0!==t.active,l()},e.addHospital=function(s){e.appTemplateMSG="add"===s?"Add New Hospital":"Edit Hospital Details";var o="add"===s?"Are you sure you want to add this hospital?":"Save edited details?";r.openConfirm({template:"AddOrEditHospitals",className:"ngdialog-theme-plain",preCloseCallback:function(){return r.openConfirm({template:`<p>${o}</p>`+'<div class="ngdialog-buttons"><button type="button" class="ngdialog-button ngdialog-button-secondary" ng-click="closeThisDialog(0)">No</button><button type="button" class="ngdialog-button ngdialog-button-primary" ng-click="confirm(1)">Yes</button></div>',plain:!0,className:"ngdialog-theme-plain"})},scope:e,showClose:!1,closeByEscape:!1,closeByNavigation:!1,closeByDocument:!1}).then(function(){return e.form={},!1},function(){if(""===e.form.hospital_name||""===e.form.person_name||""===e.form.department||""===e.form.profession||""===e.form.position||""===e.form.username||""===e.form.password||""===e.form.email||""===e.form.contact_num)Swal.fire("Warning!","Please fill up all the forms!","warning");else{var s={adminKey:e.adminKey,info:e.form};e.isLoading=!0,i.addHospital(s).then(function(){Swal.fire("Success!","New Hospital Added!","success"),e.isLoading=!1,t.location.reload()}).catch(function(t){e.isLoading=!1,Swal.fire("Error!","An error occured! Please try again.","error")})}})},e.addEditApp=function(t){e.appTemplateMSG="add"===t?"Add New App":"Edit App Details";var s="add"===t?"Are you sure you want to add this app?":"Save edited details?";r.openConfirm({template:"AddOrEditApp",className:"ngdialog-theme-plain",preCloseCallback:function(){return r.openConfirm({template:`<p>${s}</p>`+'<div class="ngdialog-buttons"><button type="button" class="ngdialog-button ngdialog-button-secondary" ng-click="closeThisDialog(0)">No</button><button type="button" class="ngdialog-button ngdialog-button-primary" ng-click="confirm(1)">Yes</button></div>',plain:!0,className:"ngdialog-theme-plain"})},scope:e,showClose:!1,closeByEscape:!1,closeByNavigation:!1,closeByDocument:!1}).then(function(){return e.form={},!1},function(){})},e.addEditResearch=function(t){e.appTemplateMSG="add"===t?"Add New Emerging Research":"Edit Emerging Research Details";var s="add"===t?"Are you sure you want to add this research?":"Save edited details?";r.openConfirm({template:"AddOrEditResearch",className:"ngdialog-theme-plain",preCloseCallback:function(){return r.openConfirm({template:`<p>${s}</p>`+'<div class="ngdialog-buttons"><button type="button" class="ngdialog-button ngdialog-button-secondary" ng-click="closeThisDialog(0)">No</button><button type="button" class="ngdialog-button ngdialog-button-primary" ng-click="confirm(1)">Yes</button></div>',plain:!0,className:"ngdialog-theme-plain"})},scope:e,showClose:!1,closeByEscape:!1,closeByNavigation:!1,closeByDocument:!1}).then(function(){return e.form={},!1},function(){})},e.addEditAnnouncement=function(t){e.appTemplateMSG="add"===t?"Add New Government Announcement":"Edit Government Announcement Details";var s="add"===t?"Are you sure you want to add this announcement?":"Save edited details?";r.openConfirm({template:"AddOrEditAnnouncement",className:"ngdialog-theme-plain",preCloseCallback:function(){return r.openConfirm({template:`<p>${s}</p>`+'<div class="ngdialog-buttons"><button type="button" class="ngdialog-button ngdialog-button-secondary" ng-click="closeThisDialog(0)">No</button><button type="button" class="ngdialog-button ngdialog-button-primary" ng-click="confirm(1)">Yes</button></div>',plain:!0,className:"ngdialog-theme-plain"})},scope:e,showClose:!1,closeByEscape:!1,closeByNavigation:!1,closeByDocument:!1}).then(function(){return e.form={},!1},function(){})};var m=e.appImageUpload=new a({url:""});m.filters.push({name:"enforceMaxFileSize",fn:function(e){return e.size<=5e6}}),m.filters.push({name:"imageFilter",fn:function(e,t){var s="|"+e.type.slice(e.type.lastIndexOf("/")+1)+"|";return-1!=="|png|jpg|".indexOf(s)}}),m.onWhenAddingFileFailed=function(e,t,s){},m.onAfterAddingFile=function(e){},m.onAfterAddingAll=function(e){},m.onBeforeUploadItem=function(e){},m.onProgressItem=function(e,t){},m.onProgressAll=function(e){},m.onSuccessItem=function(e,t,s,o){},m.onErrorItem=function(e,t,s,o){},m.onCancelItem=function(e,t,s,o){},m.onCompleteItem=function(e,t,s,o){},m.onCompleteAll=function(){}}]),app.controller("Clinics",["$scope",function(e){}]),app.controller("Grocery",["$scope",function(e){}]),app.controller("HospitalDetails",["$scope","$routeParams","HospitalDirectoryFactory",function(e,t,s){var o;e.hospital_public_id=t.hospital_id,e.isLoadingDetails=!1,e.hospitalDetails={},e.isLoadingDetails=!0,null!==e.hospital_public_id?(o={public_id:e.hospital_public_id},e.isLoadingDetails=!0,s.getHospitalDetails(o).then(function(t){e.hospitalDetails=t.data.data,e.hospitalDetails.contact_num=e.hospitalDetails.contact_num.split(";"),e.isLoadingDetails=!1}).catch(function(t){$window.location="#/hospital-directory",e.isLoadingDetails=!1})):$window.location="#/hospital-directory"}]),app.controller("HospitalDirectory",["$scope","$window","$routeParams","HospitalDirectoryFactory",function(e,t,s,o){e.quickFilterButtons={acp:{background:"",color:""},rs:{background:"",color:""},dch:{background:"",color:""},apt:{background:"",color:""}},e.filter={sortBy:""},e.quickFilters={acp:!1,rs:!1,dch:!1,apt:!1,readinessScores:[]},e.inputedSearchForm={},e.hospitals=[],e.isLoading=!1,e.isLoadingHospitals=!1,e.readinessScores=[{name:"1.0 - 2.0",ticked:!1},{name:"3.0 - 4.0",ticked:!1},{name:"5.0 - 6.0",ticked:!1},{name:"7.0 - 8.0",ticked:!1},{name:"9.0 - 10.0",ticked:!1}],e.displayFields={region:!1,city:!1,hospitalName:!1},e.isLoadingHospitals=!0,o.getAllHospitals().then(function(t){var o=t.data.data,i=alasql("SELECT * from ? WHERE hospital_public_id IS NOT NULL",[o]);for(var r in i)i[r].contact_num&&(i[r].contact_num=i[r].contact_num.split(";"));e.hospitals=i,function(){for(var t in s)"null"!==s[t]&&(e.inputedSearchForm=s);"object"==typeof e.inputedSearchForm&&"{}"!==JSON.stringify(e.inputedSearchForm)&&function(){if(e.hospitals.length>0){e.isLoadingHospitals=!0;var t="null"!==e.inputedSearchForm.region?`AND address_1 LIKE '%${e.inputedSearchForm.region}%'`:"",s="null"!==e.inputedSearchForm.city?`AND address_2 LIKE '%${e.inputedSearchForm.city}%'`:"",o="null"!==e.inputedSearchForm.hospitalName?`AND hospital_name LIKE '%${e.inputedSearchForm.hospitalName}%'`:"",i=alasql(`SELECT * from ? WHERE hospital_public_id IS NOT NULL ${t} ${s} ${o}`,[e.hospitals]);e.hospitals=i,e.isLoadingHospitals=!1}}()}(),e.isLoadingHospitals=!1}).catch(function(t){e.isLoadingHospitals=!1}),e.setReadinessScore=function(e){},e.removeDisplay=function(s){e.displayFields[s]=!0,e.inputedSearchForm[s]="null";var o=0;for(var i in e.inputedSearchForm)"null"===e.inputedSearchForm[i]&&o++;if(3===o){for(var r in e.displayFields)e.displayFields[r]&&(e.displayFields[r]=!1);for(var i in e.inputedSearchForm)e.inputedSearchForm[i]&&(e.inputedSearchForm[i]="null");t.location="./#/hospital-directory/null/null/null"}e.displayFields.region&&e.displayFields.city&&e.displayFields.hospitalName&&(t.location="./#/hospital-directory/null/null/null")},e.quickFilterButton=function(t){"ACP"===t?(""!==e.quickFilterButtons.acp.background?e.quickFilterButtons.acp={background:"",color:""}:e.quickFilterButtons.acp={background:"#1a4456",color:"#ffffff"},e.quickFilters.acp=!1===e.quickFilters.acp):"RS"===t?(""!==e.quickFilterButtons.rs.background?e.quickFilterButtons.rs={background:"",color:""}:e.quickFilterButtons.rs={background:"#e17646",color:"#ffffff"},e.quickFilters.rs=!1===e.quickFilters.rs):"DCH"===t?(""!==e.quickFilterButtons.dch.background?e.quickFilterButtons.dch={background:"",color:""}:e.quickFilterButtons.dch={background:"#47b6e6",color:"#ffffff"},e.quickFilters.dch=!1===e.quickFilters.dch):"APT"===t&&(""!==e.quickFilterButtons.apt.background?e.quickFilterButtons.apt={background:"",color:""}:e.quickFilterButtons.apt={background:"#191b4a",color:"#ffffff"},e.quickFilters.apt=!1===e.quickFilters.apt),function(){if(e.hospitals.length>0){e.isLoadingHospitals=!0;var t=!0===e.quickFilters.acp?"AND admitting_confirmed = 'yes' ":"",s=!0===e.quickFilters.rs?"AND requesting_supplies = 'yes' ":"",o=!0===e.quickFilters.dch?"AND designated_for_covid = 'yes' ":"",i=!0===e.quickFilters.apt?"AND accepting_for_test = 'yes' ":"",r=alasql(`SELECT * from ? WHERE hospital_public_id IS NOT NULL ${t} ${s} ${o} ${i}`,[e.hospitals]);e.hospitals=r,e.isLoadingHospitals=!1}}()},e.sortBySelect=function(){if(e.hospitals.length>0){e.isLoadingHospitals=!0;var t="Hospital Name (A to Z)"===e.filter.sortBy?"ORDER BY hospital_name ASC":"",s="Hospital Name (Z to A)"===e.filter.sortBy?"ORDER BY hospital_name DESC":"",o="COVID 19 Patients (High to Low)"===e.filter.sortBy?"ORDER BY num_confirmed_covid DESC":"",i="COVID 19 Patients (Low to High)"===e.filter.sortBy?"ORDER BY num_confirmed_covid ASC":"",r=alasql(`SELECT * from ? WHERE hospital_public_id IS NOT NULL ${t} ${s} ${o} ${i}`,[e.hospitals]);e.hospitals=r,e.isLoadingHospitals=!1}},e.goToDetails=function(e){t.location=`#/hospital-details/${e}`}}]),app.controller("HospitalPortal",["$scope","$location","HospitalPortalFactory","SessionFactory","$window","$routeParams","$anchorScroll",function(e,t,s,o,i,r,a){e.loginKey=o.authKey,e.isAdmin=null!==o.adminAuthKey,e.currentURL=t.url(),e.isLoadingDetails=!1,e.isLoggedIn=!1,e.isLoading=!1,e.isLoadingCases=!1,e.patientCaseId="",e.loginForm={username:"",password:"",hospital:!1},e.requestAccessForm={contact_num:"",department:"",email:"",hospital_name:"",password:"",person_name:"",position:"",profession:"",username:""},e.dashboardFilters={caseID:"",selfAssessment:"",location:"",age:"",comorbidity:"",sysmptomSeverity:"",exposure:"",caseStatus:"",caseFilter:"All Cases",searchFilter:""},e.hospitalInfo={accepting_for_test:"",address_1:"",address_2:"",address_3:"",admitting_confirmed:"",contact_num:"",date_created:"",designated_for_covid:"",hospital_id:0,hospital_name:"",id:0,morgue:"",notes:"",num_alcohol:0,num_ambulance:0,num_beds_confirmed:0,num_beds_pui:0,num_body_bags:0,num_confirmed_covid:0,num_covid_kits:0,num_doctors_for_covid:0,num_face_masks:0,num_face_shield:0,num_hoods:0,num_medstaff_for_covid:0,num_nurses_for_covid:0,num_pui:0,num_ventilators:0,num_shoe_covers:0,num_surgical_gloves:0,public_id:"",requesting_supplies:"",num_antibody_testing_kits:0,num_of_disinfectants:0,num_of_goggles:0,num_morgue_freezers_space:0,num_negative_pressure_rooms:0},e.mockData=[{case_id:"6HYO64",self_assessment_date_time:"2019-09-20 17:37:04",location:"Qiaobian",age:21,comorbidity:!1,sysmptom_severity:"yes",exposure_to_covid:"yes",case_status:"self assessed",archived:!1},{case_id:"3KVLT",self_assessment_date_time:"2019-08-02 05:27:35",location:"Sendangagung",age:22,comorbidity:!0,sysmptom_severity:"no",exposure_to_covid:"no + ILI",case_status:"dropped",archived:!1},{case_id:"2NMMF3",self_assessment_date_time:"2019-05-19 11:47:23",location:"Yasothon",age:23,comorbidity:!0,sysmptom_severity:"yes",exposure_to_covid:"yes",case_status:"confirmed",archived:!1},{case_id:"B90OXT",self_assessment_date_time:"2019-07-12 03:15:10",location:"Zainsk",age:24,comorbidity:!0,sysmptom_severity:"no",exposure_to_covid:"no + ILI",case_status:"management in-progress",archived:!1},{case_id:"WPHJJB",self_assessment_date_time:"2020-01-03 14:11:10",location:"Hoeryŏng",age:25,comorbidity:!0,sysmptom_severity:"no",exposure_to_covid:"no + ILI",case_status:"unreachable",archived:!1},{case_id:"N2U6E9",self_assessment_date_time:"2019-07-22 10:09:52",location:"La Palma",age:26,comorbidity:!1,sysmptom_severity:"yes",exposure_to_covid:"yes",case_status:"dismissed",archived:!1},{case_id:"0PLVGD",self_assessment_date_time:"2020-02-26 22:56:02",location:"Jepuro",age:27,comorbidity:!1,sysmptom_severity:"no",exposure_to_covid:"no + ILI",case_status:"managed elsewhere",archived:!1},{case_id:"EQMSJP",self_assessment_date_time:"2019-12-13 16:55:34",location:"Thị Trấn Ngan Dừa",age:28,comorbidity:!0,sysmptom_severity:"yes",exposure_to_covid:"yes",case_status:"referred elsewhere",archived:!1},{case_id:"1RCFPZ",self_assessment_date_time:"2019-12-07 20:41:05",location:"San Vicente",age:29,comorbidity:!0,sysmptom_severity:"no",exposure_to_covid:"yes + ILI",case_status:"recovered",archived:!1},{case_id:"AZ0YDC",self_assessment_date_time:"2019-09-22 03:29:56",location:"Andkhōy",age:30,comorbidity:!0,sysmptom_severity:"no",exposure_to_covid:"yes + ILI",case_status:"deceased",archived:!1}],e.professions=["Physician","Nurse","Allied Medical Professional"],e.requestAccessModal=!1,function(){e.isLoadingDetails=!0,e.isAdmin&&(i.location="./#/admin");null!==e.loginKey&&(e.isLoadingDetails=!0,o.getHospitalInfo().then(function(t){e.hospitalInfo=t.data.data,e.isLoadingDetails=!1}).catch(function(t){e.isLoadingDetails=!1,localStorage.removeItem("authKey"),i.location.reload(),i.location="./#/hospital-login"}),function(){for(var t in e.isLoadingCases=!0,e.mockData)e.mockData[t].comorbidity=!0===e.mockData[t].comorbidity?"Yes":"No",e.mockData[t].self_assessment_date_time=new Date(e.mockData[t].self_assessment_date_time);e.isLoadingCases=!1}(),null===r.case_id&&r.case_id===undefined||(e.patientCaseId=r.case_id))}(),e.login=function(){for(var t in e.loginForm)if(""===e.loginForm[t])return Swal.fire({icon:"warning",title:"Please fill up all the forms!",text:"Check the forms and try again"}),!1;e.loginForm.hospital=!0,e.isLoading=!0,o.login(e.loginForm).then(function(t){var s=t.data.access_token;localStorage.setItem("authKey",s),i.location="./#/hospital-portal",i.location.reload(),e.isLoading=!1}).catch(function(t){Swal.fire({icon:"error",title:"An error occured!",text:t.data}),e.isLoading=!1})},e.submitApplication=function(){for(var t in e.requestAccessForm)if(""===e.requestAccessForm[t]||e.requestAccessForm[t]===undefined||null===e.requestAccessForm[t])return Swal.fire({icon:"warning",title:"Please fill up all the forms!",text:"Check the forms and try again"}),!1;e.isLoading=!0,s.submitApplication(e.requestAccessForm).then(function(){e.requestAccessModal=!0,e.requestAccessForm={contact_num:"",department:"",email:"",hospital_name:"",password:"",person_name:"",position:"",profession:"",username:""},e.isLoading=!1}).catch(function(t){Swal.fire({icon:"error",title:"An error occured!",text:t.data}),e.isLoading=!1})},e.closeRequestAccessModal=function(){e.requestAccessModal=!e.requestAccessModal},e.setOrder=function(t){""===e.dashboardFilters[t]?e.dashboardFilters[t]="DESC":e.dashboardFilters[t]="DESC"===e.dashboardFilters[t]?"ASC":"DESC",e.isLoadingCases=!0;var s=`${""===e.dashboardFilters.caseID?"":`,case_id ${e.dashboardFilters.caseID}`} ${""===e.dashboardFilters.selfAssessment?"":`,self_assessment_date_time ${e.dashboardFilters.selfAssessment}`} ${""===e.dashboardFilters.location?"":`,location ${e.dashboardFilters.location}`} ${""===e.dashboardFilters.age?"":`,age ${e.dashboardFilters.age}`} ${""===e.dashboardFilters.comorbidity?"":`,comorbidity ${e.dashboardFilters.comorbidity}`} ${""===e.dashboardFilters.sysmptomSeverity?"":`,sysmptom_severity ${e.dashboardFilters.sysmptomSeverity}`} ${""===e.dashboardFilters.exposure?"":`,exposure_to_covid ${e.dashboardFilters.exposure}`} ${""===e.dashboardFilters.caseStatus?"":`,case_status ${e.dashboardFilters.caseStatus}`}`,o=alasql(`SELECT * from ? ORDER BY archived DESC ${s}`,[e.mockData]);e.mockData=o,e.isLoadingCases=!1},e.updateInfo=function(){if(""===e.hospitalInfo.accepting_for_test||""===e.hospitalInfo.address_1||""===e.hospitalInfo.address_2||""===e.hospitalInfo.address_3||""===e.hospitalInfo.admitting_confirmed||""===e.hospitalInfo.contact_num||""===e.hospitalInfo.date_created||""===e.hospitalInfo.designated_for_covid||""===e.hospitalInfo.hospital_name||""===e.hospitalInfo.morgue||""===e.hospitalInfo.public_id||""===e.hospitalInfo.requesting_supplies)return Swal.fire({icon:"warning",title:"All fields except Notes are required.",text:"If you leave a numerical field blank, it registers as zero (0)."}),!1;e.hospitalInfo.num_alcohol=null===e.hospitalInfo.num_alcohol?null:e.hospitalInfo.num_alcohol,e.hospitalInfo.num_ambulance=null===e.hospitalInfo.num_ambulance?null:e.hospitalInfo.num_ambulance,e.hospitalInfo.num_beds_confirmed=null===e.hospitalInfo.num_beds_confirmed?null:e.hospitalInfo.num_beds_confirmed,e.hospitalInfo.num_beds_pui=null===e.hospitalInfo.num_beds_pui?null:e.hospitalInfo.num_beds_pui,e.hospitalInfo.num_body_bags=null===e.hospitalInfo.num_body_bags?null:e.hospitalInfo.num_body_bags,e.hospitalInfo.num_confirmed_covid=null===e.hospitalInfo.num_confirmed_covid?null:e.hospitalInfo.num_confirmed_covid,e.hospitalInfo.num_covid_kits=null===e.hospitalInfo.num_covid_kits?null:e.hospitalInfo.num_covid_kits,e.hospitalInfo.num_doctors_for_covid=null===e.hospitalInfo.num_doctors_for_covid?null:e.hospitalInfo.num_doctors_for_covid,e.hospitalInfo.num_face_masks=null===e.hospitalInfo.num_face_masks?null:e.hospitalInfo.num_face_masks,e.hospitalInfo.num_face_shield=null===e.hospitalInfo.num_face_shield?null:e.hospitalInfo.num_face_shield,e.hospitalInfo.num_hoods=null===e.hospitalInfo.num_hoods?null:e.hospitalInfo.num_hoods,e.hospitalInfo.num_medstaff_for_covid=null===e.hospitalInfo.num_medstaff_for_covid?null:e.hospitalInfo.num_medstaff_for_covid,e.hospitalInfo.num_nurses_for_covid=null===e.hospitalInfo.num_nurses_for_covid?null:e.hospitalInfo.num_nurses_for_covid,e.hospitalInfo.num_pui=null===e.hospitalInfo.num_pui?null:e.hospitalInfo.num_pui,e.hospitalInfo.num_ventilators=null===e.hospitalInfo.num_ventilators?null:e.hospitalInfo.num_ventilators,e.hospitalInfo.num_shoe_covers=null===e.hospitalInfo.num_shoe_covers?null:e.hospitalInfo.num_shoe_covers,e.hospitalInfo.num_surgical_gloves=null===e.hospitalInfo.num_surgical_gloves?null:e.hospitalInfo.num_surgical_gloves,e.hospitalInfo.num_antibody_testing_kits=null===e.hospitalInfo.num_antibody_testing_kits?null:e.hospitalInfo.num_antibody_testing_kits,e.hospitalInfo.num_of_disinfectants=null===e.hospitalInfo.num_of_disinfectants?null:e.hospitalInfo.num_of_disinfectants,e.hospitalInfo.num_of_goggles=null===e.hospitalInfo.num_of_goggles?null:e.hospitalInfo.num_of_goggles,e.hospitalInfo.num_morgue_freezers_space=null===e.hospitalInfo.num_morgue_freezers_space?null:e.hospitalInfo.num_morgue_freezers_space,e.hospitalInfo.num_negative_pressure_rooms=null===e.hospitalInfo.num_negative_pressure_rooms?null:e.hospitalInfo.num_negative_pressure_rooms;var t={info:e.hospitalInfo,loginKey:e.loginKey};a("body"),e.isLoadingDetails=!0,s.updateHospitalInfo(t).then(function(){Swal.fire({icon:"success",title:"Hospital Info Updated!"}),e.isLoadingDetails=!1,i.location="./#/hospital-portal"}).catch(function(t){Swal.fire({icon:"error",title:"An error occured while updating hospital info!",text:t.data}),e.isLoadingDetails=!1})},e.changeProfession=function(t){e.requestAccessForm.profession=t},e.changePosition=function(t){e.requestAccessForm.position=t}}]),app.controller("Index",["$scope","$location","SessionFactory","$window","$anchorScroll","$interval","$timeout",function(e,t,s,o,i,r,a){function n(){var t=null!==e.loginKey?e.loginKey:e.adminKey,s=null!==e.loginKey?"./#/hospital-login":"./#/admin/login",i=jwt_decode(t),r=Date.now().valueOf()/1e3;i.exp<r&&(Swal.fire("Session Expired!","Please login again!","warning"),localStorage.clear(),o.location=s,o.location.reload())}e.yearNow=(new Date).getFullYear(),e.activeNav="",e.loginKey=s.authKey,e.adminKey=s.adminAuthKey,e.isLoggedIn=!1,e.user=[],e.searchHospitalForm={region:null,city:null,hospitalName:null},e.activeNav=t.url(),e.$on("$routeChangeStart",function(s,r){var n,l,c,m,u,p,d,g,f,h,y,S,v,_,b,C,T,U;e.hideMainTag=!0,e.activeNav=t.url(),r.requireAuth&&null===e.loginKey&&t.path("/hospital-login"),r.requireAdmin&&null===e.adminKey&&t.path("/admin/login"),null!==e.loginKey&&null===e.adminKey&&("/admin"!==t.url()&&"/admin/login"!==t.url()||t.path("/hospital-portal")),n=document.getElementById("navlink-trackers-w"),l=document.getElementById("navlink-citizens-w"),c=document.getElementById("navlink-news-w"),m=document.getElementById("navlink-resources-w"),u=document.getElementById("nav-trackers-w"),p=document.getElementById("nav-citizens-w"),d=document.getElementById("nav-news-w"),g=document.getElementById("nav-resources-w"),f=document.getElementById("mobile-nav-menulink"),h=document.getElementById("mobile-nav-dropdown"),document.getElementsByClassName("navlink"),y=document.getElementById("navlink-trackers"),S=document.getElementById("navlink-citizens"),v=document.getElementById("navlink-news"),_=document.getElementById("navlink-resources"),b=document.getElementById("nav-trackers"),C=document.getElementById("nav-citizens"),T=document.getElementById("nav-news"),U=document.getElementById("nav-resources"),n.classList.contains("dropdown-open")&&(u.style.maxHeight="0",n.classList.remove("dropdown-open")),l.classList.contains("dropdown-open")&&(p.style.maxHeight="0",l.classList.remove("dropdown-open")),c.classList.contains("dropdown-open")&&(d.style.maxHeight="0",c.classList.remove("dropdown-open")),m.classList.contains("dropdown-open")&&(g.style.maxHeight="0",m.classList.remove("dropdown-open")),f.classList.contains("mobile-menu-open")&&((y.classList.contains("dropdown-active")||S.classList.contains("dropdown-active")||v.classList.contains("dropdown-active")||_.classList.contains("dropdown-active"))&&(y.classList.remove("dropdown-active"),S.classList.remove("dropdown-active"),v.classList.remove("dropdown-active"),_.classList.remove("dropdown-active"),b.style.maxHeight="0",C.style.maxHeight="0",T.style.maxHeight="0",U.style.maxHeight="0",h.style.transitionDelay="200ms"),h.style.maxHeight="0",f.classList.remove("mobile-menu-open"),h.style.transitionDelay="0ms"),o.document.title="string"==typeof r.title?r.title:"Project Moses",i("body"),a(function(){e.hideMainTag=!1},1e3)}),e.isLoggedIn=null!==e.loginKey||null!==e.adminKey,e.isLoggedIn&&r(n,3e5),e.logOut=function(){localStorage.clear(),o.location="./#/",o.location.reload()},e.scrollTo=function(e){i.yOffset=120,i(e)},e.dropDownClose=function(e,t){var s=document.getElementById(e),o=document.getElementById(t);s.classList.contains("dropdown-open")&&(o.style.maxHeight="0",s.classList.remove("dropdown-open"))},e.searchHospital=function(){o.location=`#/hospital-directory/${e.searchHospitalForm.region}/${e.searchHospitalForm.city}/${e.searchHospitalForm.hospitalName}`}}]),app.controller("NewsMedia",["$scope",function(e){}]),app.controller("Pharmacies",["$scope",function(e){}]),app.controller("Resources",["$scope","$location",function(e,t){e.activeNav=t.url(),"/resources/faqs"===e.activeNav&&function(){var e=document.getElementsByClassName("question-container");if(e.length>0)for(var t=0;t<e.length;t++)e[t].onclick=function(){if(this.classList.contains("question-open")){this.classList.remove("question-open");var e=this.nextElementSibling;e.style.maxHeight=null}else{this.classList.add("question-open");var e=this.nextElementSibling;e.style.maxHeight=e.scrollHeight+"px"}}}()}]),app.controller("Roads",["$scope",function(e){}]),app.controller("SelfTriage",["$scope","$window","SelfTriageFactory","ngDialog","$anchorScroll",function(e,t,s,o,i){function r(){e.isLoadingCountries=!0,s.getCountries().then(function(t){e.countries=t.data,e.isLoadingCountries=!1}).catch(function(t){e.isLoadingCountries=!1})}function a(t,s){e.customValues.matchCountrySelected=t,"asymptomatic"===s?!0===e.customValues.matchCountrySelected?(e.endResult="pum",e.goToNextSection("final-asymptomatic")):e.selfTriageSection.triageExposureAsymptomatic=!0:"symptomatic"===s&&(!0===e.customValues.matchCountrySelected?"yes"===e.form.triageUser.symptomStartsWithin14DaysBeingInCountry?e.goToNextSection("symptoms-checklist"):"no"===e.form.triageUser.symptomStartsWithin14DaysBeingInCountry&&e.goToNextSection("symptoms-checklist"):e.selfTriageSection.triageExposureSymptomatic=!0)}e.isLoadingPage=!1,e.isLoadingCountries=!1,e.isLoadingillnessesOrConditions=!1,e.selfTriageSection={triageHome:!0,triageDemographicsAsymptomatic:!1,triageTestingAsymptomatic:!1,triageTravelAsymptomatic:!1,triageExposureAsymptomatic:!1,triageDemographicsSymptomatic:!1,triageTestingSymptomatic:!1,triageTravelSymptomatic:!1,triageExposureSymptomatic:!1,triageILISymptomatic:!1,triageSymptomsChecklistSymptomatic:!1,triageComorbiditySymptomatic:!1},e.selfTriageResultSection={triageResultAllright:!1,triageResultPUM:!1,triageResultConfirmed:!1,triageNoResults:!1,triageResultProbable:!1,triageResultNotcovid:!1,triageResultSuspectA:!1,triageResultSuspectB:!1,caseAssgined:!1},e.resultTitle={allRight:"You’re All Right! | COVID - 19 Self Assessment and Triage Tool | Project Moses",tooSoon:"It’s Too Soon to Tell | COVID - 19 Self Assessment and Triage Tool | Project Moses",notCovid:"Looks Like It’s Not COVID - 19! | COVID - 19 Self Assessment and Triage Tool | Project Moses",probable:"You're a PROBABLE COVID-19 Case! | COVID-19 Self Assessment and Triage Tool | Project Moses",suspect:"You're a SUSPECT COVID-19 Case! | COVID-19 Self Assessment and Triage Tool | Project Moses",confirmed:"You're a CONFIRMED COVID-19 Case! | COVID-19 Self Assessment and Triage Tool | Project Moses"},e.selector={countrySelector:"",diseasesSelector:""},e.form={triageUser:{symptom:{cough:!1,troubleBreathing:!1,soreThroat:!1,fever:!1,otherSymptoms:!1},birthDate:{month:"",day:"",year:"",fullDate:""},gender:"",pregnant:"",address:{region:"",city:"",barangay:""},healthCareWorker:"",understoodTerms:!1,track:"",testInfo:{tested:"",accreditedTester:"",result:""},recentlyTraveled:"",countriesVisitedCountryCode:[],takenCaredOfConfirmedPatientsWithProperPPE:"",stayedInCloseWithProbableOrConfirmed:"",traveledTogetherWithConfirmed:"",symptomStartsWithin14DaysBeingInCountry:"",ppe14Days:"",environment14Days:"",symptomsStartWithin14DaysBeingExposed:"",iliExposureHistory:"",otherSeriousillnessesOrConditions:"",otherSeriousIllnessesOrConditionsList:[],symptomsChecklist:{fever:"",sputumProduction:"",myalgia:"",nausea:"",diarrhea:"",dryCough:"",soreThroat:"",arthralgia:"",vomiting:"",difficultyBreathing:"",fatigue:"",headaches:"",chills:"",nasalCongestion:"",shortnessOfBreath:""}}},e.months=[{fullMonth:"January (01)",shortMonth:"01"},{fullMonth:"February (02)",shortMonth:"02"},{fullMonth:"March (03)",shortMonth:"03"},{fullMonth:"April (04)",shortMonth:"04"},{fullMonth:"May (05)",shortMonth:"05"},{fullMonth:"June (06)",shortMonth:"06"},{fullMonth:"July (07)",shortMonth:"07"},{fullMonth:"August (08)",shortMonth:"08"},{fullMonth:"September (09)",shortMonth:"09"},{fullMonth:"October (10)",shortMonth:"10"},{fullMonth:"November (11)",shortMonth:"11"},{fullMonth:"December (12)",shortMonth:"12"}],e.buttonStatus={noSymptoms:!1,proceedTriageDemographicsAsymptomatic:!1,proceedTriageTestingAsymptomatic:!1,proceedTriageTravelAsymptomatic:!1,proceedtriageExposureAsymptomatic:!1,proceedTriageDemographicsSymptomatic:!1,proceedTriageTestingSymptomatic:!1,proceedTriageTravelSymptomatic:!1,proceedTriageExposureSymptomatic:!1,proceedILIExposureHistorySymptomatic:!1,proceedTriageComorbiditySymptomatic:!1,proceedTriageSymptomsChecklistSymptomatic:!1},e.showField={ageResponse:!1,addressResponse:!1,triageTestingAsymptomatic:!1},e.customValues={age:0,address:"",customValues:"",matchCountrySelected:!1,directExposureHistory:!1,months:0,additionalRoute:"",additionalRoute2:""},e.countries=[],e.illnessesOrConditions=["Diabetes mellitus","Cardiovascular Disease","Hypertension","Cancer","Autoimmune Diseases","Leukemia","Chronic Obstructive Pulmonary Disease (COPD)"],e.visitedCountries=[],e.comorbidList=[],e.endResult="",e.lastYear=(new Date).getFullYear()-1,e.emptyCheckList={fever:"",sputumProduction:"",myalgia:"",nausea:"",diarrhea:"",dryCough:"",soreThroat:"",arthralgia:"",vomiting:"",difficultyBreathing:"",fatigue:"",headaches:"",chills:"",nasalCongestion:"",shortnessOfBreath:""},e.showViolator=!1,angular.element(t).on("beforeunload",function(e){e.returnValue="Refresh is disabled",e.preventDefault()}),e.$watch("form.triageUser",function(){e.form.triageUser.pregnant="male"===e.form.triageUser.gender?"no":e.form.triageUser.pregnant,"asymptomatic"===e.form.triageUser.track?(e.buttonStatus.proceedTriageDemographicsAsymptomatic=!(!e.showField.ageResponse||!e.showField.addressResponse||""===e.form.triageUser.gender||""===e.form.triageUser.pregnant||""===e.form.triageUser.healthCareWorker),"no"===e.form.triageUser.testInfo.tested?(e.form.triageUser.testInfo.accreditedTester="",e.form.triageUser.testInfo.result="",e.buttonStatus.proceedTriageTestingAsymptomatic=!0):"yes"===e.form.triageUser.testInfo.tested&&("no"===e.form.triageUser.testInfo.accreditedTester?(e.buttonStatus.proceedTriageTestingAsymptomatic=!0,e.endResult="probable",t.document.title="probable"===e.endResult?e.resultTitle.probable:"Project Moses"):"yes"===e.form.triageUser.testInfo.accreditedTester&&("positive"===e.form.triageUser.testInfo.result?(e.endResult="positive",e.buttonStatus.proceedTriageTestingAsymptomatic=!0,t.document.title="positve"===e.endResult?e.resultTitle.positive:"Project Moses"):"negative"===e.form.triageUser.testInfo.result?e.buttonStatus.proceedTriageTestingAsymptomatic=!0:"inconclusive"===e.form.triageUser.testInfo.result?(e.endResult="inconclusive",e.buttonStatus.proceedTriageTestingAsymptomatic=!0,t.document.title="inconclusive"===e.endResult?e.resultTitle.probable:"Project Moses"):"have-not-received-yet"===e.form.triageUser.testInfo.result&&(e.endResult="have-not-received-yet",e.buttonStatus.proceedTriageTestingAsymptomatic=!0,t.document.title="inconclusive"===e.endResult?e.resultTitle.probable:"Project Moses"))),e.form.triageUser.countriesVisitedCountryCode="no"===e.form.triageUser.recentlyTraveled?[]:e.form.triageUser.countriesVisitedCountryCode,e.visitedCountries="no"===e.form.triageUser.recentlyTraveled?[]:e.visitedCountries,"yes"===e.form.triageUser.recentlyTraveled?e.buttonStatus.proceedTriageTravelAsymptomatic=e.form.triageUser.countriesVisitedCountryCode.length>0:"no"===e.form.triageUser.recentlyTraveled&&(e.buttonStatus.proceedTriageTravelAsymptomatic=!0),"no"===e.form.triageUser.takenCaredOfConfirmedPatientsWithProperPPE&&"no"===e.form.triageUser.stayedInCloseWithProbableOrConfirmed&&"no"===e.form.triageUser.traveledTogetherWithConfirmed?(e.endResult="allright",e.buttonStatus.proceedtriageExposureAsymptomatic=!0,t.document.title="allright"===e.endResult?e.resultTitle.allRight:"Project Moses"):""!==e.form.triageUser.takenCaredOfConfirmedPatientsWithProperPPE&&""!==e.form.triageUser.stayedInCloseWithProbableOrConfirmed&&""!==e.form.triageUser.traveledTogetherWithConfirmed&&(e.endResult="pum",e.buttonStatus.proceedtriageExposureAsymptomatic=!0,t.document.title="allright"===e.endResult?e.resultTitle.probable:"Project Moses")):"symptomatic"===e.form.triageUser.track&&(e.buttonStatus.proceedTriageDemographicsSymptomatic=!(!e.showField.ageResponse||!e.showField.addressResponse||""===e.form.triageUser.gender||""===e.form.triageUser.pregnant||""===e.form.triageUser.healthCareWorker),"no"===e.form.triageUser.testInfo.tested?(e.form.triageUser.testInfo.accreditedTester="",e.form.triageUser.testInfo.result="",e.buttonStatus.proceedTriageTestingSymptomatic=!0):"yes"===e.form.triageUser.testInfo.tested&&("no"===e.form.triageUser.testInfo.accreditedTester?(e.buttonStatus.proceedTriageTestingSymptomatic=!0,e.endResult="probable",t.document.title="probable"===e.endResult?e.resultTitle.probable:"Project Moses"):"yes"===e.form.triageUser.testInfo.accreditedTester&&("positive"===e.form.triageUser.testInfo.result?(e.endResult="positive",e.buttonStatus.proceedTriageTestingSymptomatic=!0,t.document.title="positve"===e.endResult?e.resultTitle.positive:"Project Moses"):"negative"===e.form.triageUser.testInfo.result?e.buttonStatus.proceedTriageTestingSymptomatic=!0:"inconclusive"===e.form.triageUser.testInfo.result?(e.endResult="inconclusive",e.buttonStatus.proceedTriageTestingSymptomatic=!0,t.document.title="inconclusive"===e.endResult?e.resultTitle.probable:"Project Moses"):"have-not-received-yet"===e.form.triageUser.testInfo.result&&(e.endResult="have-not-received-yet",e.buttonStatus.proceedTriageTestingSymptomatic=!0,t.document.title="inconclusive"===e.endResult?e.resultTitle.probable:"Project Moses"))),e.form.triageUser.countriesVisitedCountryCode="no"===e.form.triageUser.recentlyTraveled?[]:e.form.triageUser.countriesVisitedCountryCode,e.visitedCountries="no"===e.form.triageUser.recentlyTraveled?[]:e.visitedCountries,e.form.triageUser.symptomStartsWithin14DaysBeingInCountry="yes"===e.form.triageUser.recentlyTraveled?e.form.triageUser.symptomStartsWithin14DaysBeingInCountry:"","no"===e.form.triageUser.symptomStartsWithin14DaysBeingInCountry&&(e.emptyCheckList.fever=!0===e.form.triageUser.symptom.fever?"yes":"",e.emptyCheckList.difficultyBreathing=!0===e.form.triageUser.symptom.troubleBreathing?"yes":"",e.emptyCheckList.soreThroat=!0===e.form.triageUser.symptom.soreThroat?"yes":"",e.emptyCheckList.dryCough=!0===e.form.triageUser.symptom.cough?"yes":"",e.form.triageUser.symptomsChecklist=e.emptyCheckList),"yes"===e.form.triageUser.recentlyTraveled?e.buttonStatus.proceedTriageTravelSymptomatic=""!==e.form.triageUser.symptomStartsWithin14DaysBeingInCountry&&e.form.triageUser.countriesVisitedCountryCode.length>0:"no"===e.form.triageUser.recentlyTraveled&&(e.buttonStatus.proceedTriageTravelSymptomatic=!0),e.form.triageUser.environment14Days="no"===e.form.triageUser.stayedInCloseWithProbableOrConfirmed?"no":e.form.triageUser.environment14Days,e.form.triageUser.symptomsStartWithin14DaysBeingExposed="no"===e.form.triageUser.traveledTogetherWithConfirmed?"no":e.form.triageUser.symptomsStartWithin14DaysBeingExposed,e.form.triageUser.ppe14Days="no"===e.form.triageUser.takenCaredOfConfirmedPatientsWithProperPPE?"no":e.form.triageUser.ppe14Days,e.buttonStatus.proceedTriageExposureSymptomatic=""!==e.form.triageUser.takenCaredOfConfirmedPatientsWithProperPPE&&""!==e.form.triageUser.ppe14Days&&""!==e.form.triageUser.stayedInCloseWithProbableOrConfirmed&&""!==e.form.triageUser.environment14Days&&""!==e.form.triageUser.traveledTogetherWithConfirmed&&""!==e.form.triageUser.symptomsStartWithin14DaysBeingExposed,e.customValues.directExposureHistory="yes"===e.form.triageUser.takenCaredOfConfirmedPatientsWithProperPPE||"yes"===e.form.triageUser.ppe14Days||"yes"===e.form.triageUser.stayedInCloseWithProbableOrConfirmed||"yes"===e.form.triageUser.environment14Days||"yes"===e.form.triageUser.traveledTogetherWithConfirmed||"yes"===e.form.triageUser.symptomsStartWithin14DaysBeingExposed,e.buttonStatus.proceedILIExposureHistorySymptomatic=""!==e.form.triageUser.iliExposureHistory,e.form.triageUser.otherSeriousIllnessesOrConditionsList="no"===e.form.triageUser.otherSeriousIllnessesOrConditions?[]:e.form.triageUser.otherSeriousIllnessesOrConditionsList,e.comorbidList="no"===e.form.triageUser.otherSeriousIllnessesOrConditions?[]:e.comorbidList,"yes"===e.form.triageUser.otherSeriousIllnessesOrConditions?(e.buttonStatus.proceedTriageComorbiditySymptomatic=e.form.triageUser.otherSeriousIllnessesOrConditionsList.length>0,e.endResult="SuspectB"):"no"===e.form.triageUser.otherSeriousIllnessesOrConditions&&(e.buttonStatus.proceedTriageComorbiditySymptomatic=!0),e.form.triageUser.symptomsChecklist.fever=!0===e.form.triageUser.symptom.fever?"yes":e.form.triageUser.symptomsChecklist.fever,e.form.triageUser.symptomsChecklist.difficultyBreathing=!0===e.form.triageUser.symptom.troubleBreathing?"yes":e.form.triageUser.symptomsChecklist.difficultyBreathing,e.form.triageUser.symptomsChecklist.soreThroat=!0===e.form.triageUser.symptom.soreThroat?"yes":e.form.triageUser.symptomsChecklist.soreThroat,e.form.triageUser.symptomsChecklist.dryCough=!0===e.form.triageUser.symptom.cough?"yes":e.form.triageUser.symptomsChecklist.dryCough,e.buttonStatus.proceedTriageSymptomsChecklistSymptomatic=""!==e.form.triageUser.symptomsChecklist.fever||""!==e.form.triageUser.symptomsChecklist.sputumProduction||""!==e.form.triageUser.symptomsChecklist.myalgia||""!==e.form.triageUser.symptomsChecklist.nausea||""!==e.form.triageUser.symptomsChecklist.diarrhea||""!==e.form.triageUser.symptomsChecklist.dryCough||""!==e.form.triageUser.symptomsChecklist.soreThroat||""!==e.form.triageUser.symptomsChecklist.arthralgia||""!==e.form.triageUser.symptomsChecklist.vomiting||""!==e.form.triageUser.symptomsChecklist.difficultyBreathing||""!==e.form.triageUser.symptomsChecklist.fatigue||""!==e.form.triageUser.symptomsChecklist.headaches||""!==e.form.triageUser.symptomsChecklist.chills||""!==e.form.triageUser.symptomsChecklist.nasalCongestion||""!==e.form.triageUser.symptomsChecklist.shortnessOfBreath)},!0),e.$watch("selfTriageSection",function(){(e.selfTriageSection.triageTravelSymptomatic||e.selfTriageSection.triageTravelAsymptomatic)&&r()},!0),e.$watch("selfTriageResultSection",function(t,s){var o=t;for(var i in o)if(!0===o[i]){e.showViolator=!0;break}},!0),e.symptomClicked=function(t){e.form.triageUser.symptom[t]=!0!==e.form.triageUser.symptom[t],e.form.triageUser.symptomsChecklist.fever=!0===e.form.triageUser.symptom.fever?"yes":e.form.triageUser.symptomsChecklist.fever,e.form.triageUser.symptomsChecklist.difficultyBreathing=!0===e.form.triageUser.symptom.troubleBreathing?"yes":e.form.triageUser.symptomsChecklist.difficultyBreathing,e.form.triageUser.symptomsChecklist.soreThroat=!0===e.form.triageUser.symptom.soreThroat?"yes":e.form.triageUser.symptomsChecklist.soreThroat,e.form.triageUser.symptomsChecklist.dryCough=!0===e.form.triageUser.symptom.cough?"yes":e.form.triageUser.symptomsChecklist.dryCough,e.buttonStatus.noSymptoms=!0===e.form.triageUser.symptom.cough||!0===e.form.triageUser.symptom.troubleBreathing||!0===e.form.triageUser.symptom.soreThroat||!0===e.form.triageUser.symptom.fever||!0===e.form.triageUser.symptom.otherSymptoms},e.goToNextSection=function(s){for(var o in e.selfTriageSection)e.selfTriageSection[o]&&(e.selfTriageSection[o]=!1);if(i("mainContent"),"selected-symptoms"===s?!1===e.form.triageUser.symptom.cough&&!1===e.form.triageUser.symptom.troubleBreathing&&!1===e.form.triageUser.symptom.soreThroat&&!1===e.form.triageUser.symptom.fever&&!1===e.form.triageUser.symptom.otherSymptoms?(Swal.fire("Warning!","Please select at least one symptom to proceed.","warning"),e.selfTriageSection.triageHome=!0):(e.form.triageUser.track="symptomatic",e.selfTriageSection.triageDemographicsSymptomatic=!0):"no-symptoms"===s&&(e.form.triageUser.track="asymptomatic",e.selfTriageSection.triageDemographicsAsymptomatic=!0),"asymptomatic"===e.form.triageUser.track)"testing-asymptomatic"===s?e.selfTriageSection.triageTestingAsymptomatic=!0:"travel-asymptomatic"===s?"negative"===e.form.triageUser.testInfo.result?e.selfTriageSection.triageTravelAsymptomatic=!0:"positive"===e.endResult?(t.document.title=e.resultTitle.confirmed,e.selfTriageResultSection.triageResultConfirmed=!0):"inconclusive"===e.endResult?(t.document.title=e.resultTitle.probable,e.selfTriageResultSection.triageResultPUM=!0):"have-not-received-yet"===e.endResult?(t.document.title=e.resultTitle.suspect,e.selfTriageResultSection.triageResultPUM=!0):"probable"===e.endResult?(t.document.title=e.resultTitle.probable,e.selfTriageResultSection.triageResultProbable=!0):e.selfTriageSection.triageTravelAsymptomatic=!0:"exposure-asymptomatic"===s?"yes"===e.form.triageUser.recentlyTraveled?a(!1,"asymptomatic"):"no"===e.form.triageUser.recentlyTraveled&&(e.selfTriageSection.triageExposureAsymptomatic=!0):"final-asymptomatic"===s&&("no"===e.form.triageUser.recentlyTraveled?"allright"===e.endResult?(t.document.title=e.resultTitle.allRight,e.selfTriageResultSection.triageResultAllright=!0):"pum"===e.endResult&&(t.document.title=e.resultTitle.probable,e.selfTriageResultSection.triageResultPUM=!0):"yes"===e.form.triageUser.recentlyTraveled&&("pum"===e.endResult?(t.document.title=e.resultTitle.probable,e.selfTriageResultSection.triageResultPUM=!0):"allright"===e.endResult&&(t.document.title=e.resultTitle.allRight,e.selfTriageResultSection.triageResultAllright=!0)));else if("symptomatic"===e.form.triageUser.track)if("testing-symptomatic"===s)e.selfTriageSection.triageTestingSymptomatic=!0;else if("travel-symptomatic"===s)"negative"===e.form.triageUser.testInfo.result?e.selfTriageSection.triageTravelSymptomatic=!0:"positive"===e.endResult?(t.document.title=e.resultTitle.confirmed,e.selfTriageResultSection.triageResultConfirmed=!0):"inconclusive"===e.endResult?(t.document.title=e.resultTitle.probable,e.selfTriageResultSection.triageResultPUM=!0):"have-not-received-yet"===e.endResult?(t.document.title=e.resultTitle.probable,e.selfTriageResultSection.triageResultPUM=!0):"probable"===e.endResult?(t.document.title=e.resultTitle.probable,e.selfTriageResultSection.triageResultProbable=!0):e.selfTriageSection.triageTravelSymptomatic=!0;else if("exposure-symptomatic"===s)"yes"===e.form.triageUser.recentlyTraveled?a(!0,"symptomatic"):"no"===e.form.triageUser.recentlyTraveled&&(e.selfTriageSection.triageExposureSymptomatic=!0);else if("direct-exposure-history"===s)e.customValues.directExposureHistory&&("yes"===e.form.triageUser.ppe14Days||"yes"===e.form.triageUser.environment14Days||"yes"===e.form.triageUser.symptomsStartWithin14DaysBeingExposed)?(e.selfTriageSection.triageSymptomsChecklistSymptomatic=!0,e.customValues.additionalRoute="option-three"):e.selfTriageSection.triageILISymptomatic=!0;else if("ili-exposure-history"===s)"option-three"===e.customValues.additionalRoute?(e.selfTriageSection.triageSymptomsChecklistSymptomatic=!0,e.customValues.additionalRoute2="option-three-a"):e.form.triageUser.symptom.fever||e.form.triageUser.symptom.cough||e.form.triageUser.symptom.troubleBreathing?(e.form.triageUser.symptom.fever||e.form.triageUser.symptom.cough||e.form.triageUser.symptom.troubleBreathing)&&(e.selfTriageSection.triageComorbiditySymptomatic=!0):(t.document.title=e.resultTitle.notCovid,e.selfTriageResultSection.triageResultNotcovid=!0);else if("comorbidity-symptomatic"===s){if("option-one"===e.customValues.additionalRoute)t.document.title=e.resultTitle.suspect,e.selfTriageResultSection.triageResultSuspectA=!0;else if("option-two"===e.customValues.additionalRoute){if("SuspectB"===e.endResult&&(t.document.title=e.resultTitle.suspect,e.selfTriageResultSection.triageResultSuspectB=!0),"no"===e.form.triageUser.otherSeriousIllnessesOrConditions){var r=e.customValues.age>59,n="yes"===e.form.triageUser.pregnant,l="yes"===e.form.triageUser.healthCareWorker;r||n||l?(t.document.title=e.resultTitle.suspect,e.selfTriageResultSection.triageResultSuspectB=!0):(t.document.title=e.resultTitle.suspect,e.selfTriageResultSection.triageResultNotcovid=!0)}}else if("SuspectB"===e.endResult&&(t.document.title=e.resultTitle.suspect,e.selfTriageResultSection.triageResultSuspectB=!0),"no"===e.form.triageUser.otherSeriousIllnessesOrConditions){r=e.customValues.age>59,n="yes"===e.form.triageUser.pregnant,l="yes"===e.form.triageUser.healthCareWorker;r||n||l?(t.document.title=e.resultTitle.suspect,e.selfTriageResultSection.triageResultSuspectB=!0):(t.document.title=e.resultTitle.notCovid,e.selfTriageResultSection.triageResultNotcovid=!0)}}else"symptoms-checklist"===s?"yes"===e.form.triageUser.symptomStartsWithin14DaysBeingInCountry?e.selfTriageSection.triageSymptomsChecklistSymptomatic=!0:"no"===e.form.triageUser.symptomStartsWithin14DaysBeingInCountry&&(e.selfTriageSection.triageExposureSymptomatic=!0):"symptoms-checklist-symptomatic"===s&&("yes"===e.form.triageUser.symptomsChecklist.fever||"yes"===e.form.triageUser.symptomsChecklist.sputumProduction||"yes"===e.form.triageUser.symptomsChecklist.shortnessOfBreath||"yes"===e.form.triageUser.symptomsChecklist.nasalCongestion?(e.selfTriageSection.triageComorbiditySymptomatic=!0,e.customValues.additionalRoute="option-one"):"yes"===e.form.triageUser.symptomsChecklist.fever||"yes"===e.form.triageUser.symptomsChecklist.dryCough||"yes"===e.form.triageUser.symptomsChecklist.difficultyBreathing?(e.customValues.additionalRoute="option-two",e.selfTriageSection.triageComorbiditySymptomatic=!0):(t.document.title=e.resultTitle.notCovid,e.selfTriageResultSection.triageResultNotcovid=!0))},e.goBack=function(t){if(e.selfTriageSection.triageComorbiditySymptomatic&&"option-one"===e.customValues.additionalRoute){for(var s in e.selfTriageSection)e.selfTriageSection[s]&&(e.selfTriageSection[s]=!1);e.selfTriageSection.triageSymptomsChecklistSymptomatic=!0}else if(e.selfTriageSection.triageComorbiditySymptomatic&&"option-one"===e.customValues.additionalRoute){for(var s in e.selfTriageSection)e.selfTriageSection[s]&&(e.selfTriageSection[s]=!1);e.selfTriageSection.triageSymptomsChecklistSymptomatic=!0}else if(e.selfTriageSection.triageSymptomsChecklistSymptomatic&&"option-three"===e.customValues.additionalRoute){for(var s in e.selfTriageSection)e.selfTriageSection[s]&&(e.selfTriageSection[s]=!1);e.selfTriageSection.triageExposureSymptomatic=!0}else if(e.selfTriageSection.triageExposureSymptomatic&&"option-three"===e.customValues.additionalRoute&&"option-three-a"===e.customValues.additionalRoute2){for(var s in e.selfTriageSection)e.selfTriageSection[s]&&(e.selfTriageSection[s]=!1);e.selfTriageSection.triageILISymptomatic=!0}else{for(var s in e.selfTriageSection)e.selfTriageSection[s]&&(e.selfTriageSection[s]=!1);e.selfTriageSection[t]=!0}i("mainContent")},e.formChange=function(t){if("birthDate"===t){e.showField.ageResponse=""!==e.form.triageUser.birthDate.month&&""!==e.form.triageUser.birthDate.day&&4===e.form.triageUser.birthDate.year.length;var s="";for(var o in e.months)if(e.form.triageUser.birthDate.month===e.months[o].fullMonth){s=e.months[o].shortMonth;break}var i=`${s}/${e.form.triageUser.birthDate.day}/${e.form.triageUser.birthDate.year}`,r=new Date,a=r.getYear(),n=r.getMonth(),l=r.getDate(),c=new Date(i.substring(6,10),i.substring(0,2)-1,i.substring(3,5));c.getMonth&&"function"==typeof c.getMonth&&(e.form.triageUser.birthDate.fullDate=c);var m=c.getMonth(),u=c.getYear(),p=c.getDate(),d=a-u;if(n>=m)var g=n-m;else{d--;g=12+n-m}if(l>=p);else--g<0&&(g=11,d--);e.customValues.months=g,e.customValues.age=d,e.showField.ageResponse&&(e.customValues.age<0||e.customValues.age>130)&&(Swal.fire("Warning!",`Please input a proper birth year. You can not be ${e.customValues.age} years old`,"warning"),e.showField.ageResponse=!1,e.customValues.age=0,e.form.triageUser.birthDate.year="")}else"address"===t&&(e.showField.addressResponse=""!==e.form.triageUser.address.region&&""!==e.form.triageUser.address.city&&""!==e.form.triageUser.address.barangay,e.customValues.address=`${e.form.triageUser.address.barangay}, ${e.form.triageUser.address.city}`)},e.searchCountries=function(){if(e.countries.length>0){var t=alasql(`SELECT * from ? WHERE name != 'Philippines' AND name LIKE '%${e.selector.countrySelector}%'`,[e.countries]);e.countries=t}""===e.selector.countrySelector&&r()},e.addCountry=function(t,s,o){if(null===t&&null===s&&"addOne"===o)if(25!==e.form.triageUser.countriesVisitedCountryCode.length&&25!==e.visitedCountries.length)if(1===e.countries.length){s=e.countries;e.form.triageUser.countriesVisitedCountryCode.push(s[0].alpha3Code),e.visitedCountries.push(s[0].name)}else Swal.fire("Warning!","You cannot add this location","warning");else Swal.fire("Warning!","Maximum of 25 countries.","warning");else if(25!==e.form.triageUser.countriesVisitedCountryCode.length&&25!==e.visitedCountries.length){if(e.form.triageUser.countriesVisitedCountryCode.push(t),e.visitedCountries.push(s),e.form.triageUser.countriesVisitedCountryCode.length>0){var i=e.form.triageUser.countriesVisitedCountryCode.filter(function(t,s){return e.form.triageUser.countriesVisitedCountryCode.indexOf(t)==s});e.form.triageUser.countriesVisitedCountryCode=i}if(e.visitedCountries.length>0){var r=e.visitedCountries.filter(function(t,s){return e.visitedCountries.indexOf(t)==s});e.visitedCountries=r}}else Swal.fire("Warning!","Maximum of 25 countries.","warning")},e.addDisease=function(t,s){if(null===t&&"entered"===s)10!==e.form.triageUser.otherSeriousIllnessesOrConditionsList.length&&10!==e.comorbidList.length?(e.form.triageUser.otherSeriousIllnessesOrConditionsList.push(e.selector.diseasesSelector),e.comorbidList.push(e.selector.diseasesSelector)):Swal.fire("Warning!","Maximum of 10 diseases.","warning");else if(10!==e.form.triageUser.otherSeriousIllnessesOrConditionsList.length&&10!==e.comorbidList.length){if(e.form.triageUser.otherSeriousIllnessesOrConditionsList.push(t),e.comorbidList.push(t),e.form.triageUser.otherSeriousIllnessesOrConditionsList.length>0){var o=e.form.triageUser.otherSeriousIllnessesOrConditionsList.filter(function(t,s){return e.form.triageUser.otherSeriousIllnessesOrConditionsList.indexOf(t)==s});e.form.triageUser.otherSeriousIllnessesOrConditionsList=o}if(e.comorbidList.length>0){var i=e.comorbidList.filter(function(t,s){return e.comorbidList.indexOf(t)==s});e.comorbidList=i}}else Swal.fire("Warning!","Maximum of 10 diseases.","warning")},e.removeCountry=function(t){e.form.triageUser.countriesVisitedCountryCode.splice(t,1),e.visitedCountries.splice(t,1)},e.removeComorbid=function(t){e.form.triageUser.otherSeriousIllnessesOrConditionsList.splice(t,1),e.comorbidList.splice(t,1)},e.showTermsAndDataPrivacy=function(){o.openConfirm({template:"ShowTermsAndDataPrivacyDialog",className:"ngdialog-theme-plain",scope:e,showClose:!0,closeByEscape:!1,closeByNavigation:!1,closeByDocument:!1})},e.collectData=function(t){"agree"===t?(Swal.fire({title:"Success",text:"Your data has been saved! Thank you for your cooperation.",icon:"success"}),e.showViolator=!1):"disagree"===t&&(e.showViolator=!1)}}]),app.controller("SubmitReport",["$scope",function(e){}]),app.controller("Trackers",["$scope","$location",function(e,t){!function(){if(e.activeNav=t.url(),"/doh-tracker"===e.activeNav){var s=document.getElementById("viz1586753573273"),o=s.getElementsByTagName("object")[0];o.style.width="910px",o.style.height="2127px";var i=document.createElement("script");i.src="https://public.tableau.com/javascripts/api/viz_v1.js",o.parentNode.insertBefore(i,o)}}()}]),app.factory("AdminFactory",["$http",function(e){var t={},s="https://server.projectmoses.ph/";return t.getAdminDetails=function(t){return e({url:`${s}admin/${t.public_id}`,method:"GET",headers:{"Content-Type":"application/json; charset=utf-8",Authorization:"Bearer "+t.adminKey}})},t.getHospitals=function(t){var o=!0===t.approved?"api/admin_hospital/":"api/admin_hospital_application/";return e({url:`${s}${o}`,method:"GET",headers:{"Content-Type":"application/json; charset=utf-8",Authorization:"Bearer "+t.adminKey}})},t.updateHospitalRequestStatus=function(t){var o="approve"===t.status?"api/admin_hospital_approve/":"api/admin_hospital_reject/";return e({url:`${s}${o}`,method:"PUT",headers:{"Content-Type":"application/json; charset=utf-8",Authorization:"Bearer "+t.adminKey},data:t.info})},t.deleteHospitalInfo=function(t){return e({url:"https://server.projectmoses.ph/api/admin_hospital/",method:"DELETE",headers:{"Content-Type":"application/json; charset=utf-8",Authorization:"Bearer "+t.adminKey},data:t.info})},t.addHospital=function(t){return e({url:"https://server.projectmoses.ph/api/admin_hospital/",method:"POST",headers:{"Content-Type":"application/json; charset=utf-8",Authorization:"Bearer "+t.adminKey},data:t.info})},t}]),app.factory("CitizenPatrolFactory",["$http",function(e){return{}}]),app.factory("HospitalDirectoryFactory",["$http",function(e){var t={};return t.searchParameters=function(e){return{region:e.region,city:e.city,hospitalName:e.hospitalName}},t.getAllHospitals=function(){return e({url:"https://server.projectmoses.ph/api/hospital_info_dash/",method:"GET",headers:{"Content-Type":"application/json; charset=utf-8"}})},t.getHospitalDetails=function(t){return e({url:`https://server.projectmoses.ph/api/hospital_info_dash/${t.public_id}`,method:"GET",headers:{"Content-Type":"application/json; charset=utf-8"}})},t}]),app.factory("HospitalPortalFactory",["$http",function(e){var t={};return t.submitApplication=function(t){return e({url:"https://server.projectmoses.ph/api/hospital_reg/",method:"POST",headers:{"Content-Type":"application/json; charset=utf-8"},data:t})},t.updateHospitalInfo=function(t){return e({url:"https://server.projectmoses.ph/api/hospital_info/",method:"POST",headers:{"Content-Type":"application/json; charset=utf-8",Authorization:"Bearer "+t.loginKey},data:t.info})},t}]),app.factory("SelfTriageFactory",["$http",function(e){var t={};return t.getAllLocationsPhilippines=function(){return e({url:"https://server.projectmoses.ph/api/locations/",method:"GET",headers:{"Content-Type":"application/json; charset=utf-8"}})},t.getCountries=function(){return e({url:"https://restcountries.eu/rest/v2/all",method:"GET",headers:{"Content-Type":"application/json; charset=utf-8"}})},t}]),app.factory("SessionFactory",["$http",function(e){var t={};return t.authKey=localStorage.getItem("authKey"),t.adminAuthKey=localStorage.getItem("adminAuthKey"),t.login=function(t){var s=t.username,o=t.password,i=btoa(s+":"+o),r=!0===t.hospital?"login_hospital/":"login_admin/";return e({url:`https://server.projectmoses.ph/api/${r}`,method:"POST",headers:{"Content-Type":"application/json; charset=utf-8",Authorization:"Basic "+i}})},t.getHospitalInfo=function(s){return e({url:"https://server.projectmoses.ph/api/hospital_info/",method:"GET",headers:{"Content-Type":"application/json; charset=utf-8",Authorization:"Bearer "+t.authKey},data:s})},t}]),app.service("PagerService",function(){var e={GetPager:function(e,t,s){t=t||1,s=s||10;var o,i,r=Math.ceil(e/s);r<=10?(o=1,i=r):t<=6?(o=1,i=10):t+4>=r?(o=r-9,i=r):(o=t-5,i=t+4);var a=(t-1)*s,n=Math.min(a+s-1,e-1),l=_.range(o,i+1);return{totalItems:e,currentPage:t,pageSize:s,totalPages:r,startPage:o,endPage:i,startIndex:a,endIndex:n,pages:l}}};return e});